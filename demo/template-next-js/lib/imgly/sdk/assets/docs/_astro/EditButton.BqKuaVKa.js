import{j as c}from"./jsx-runtime.DY7NhS4F.js";import{r as s}from"./index.hm4EbzaD.js";const u="editButtonVisible",y=30,p=(n,t,a)=>{if(typeof document>"u")return;const o=new Date;o.setTime(o.getTime()+a*24*60*60*1e3);const r=`expires=${o.toUTCString()}`;document.cookie=`${n}=${t};${r};path=/;SameSite=Strict`},k=n=>{if(typeof document>"u")return null;const t=`${n}=`,a=document.cookie.split(";");for(let o=0;o<a.length;o++){let r=a[o];for(;r.charAt(0)===" ";)r=r.substring(1);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null};function E({sourceFile:n,isDev:t=!1}){const[a,o]=s.useState(()=>t?!0:k(u)==="true"),[r,g]=s.useState(!1);s.useEffect(()=>{!t&&a&&p(u,"true",y)},[a,t]),s.useEffect(()=>{if(t)return;let e="";const i="igor",l=d=>{d.target instanceof HTMLInputElement||d.target instanceof HTMLTextAreaElement||(e+=d.key.toLowerCase(),e.length>i.length&&(e=e.slice(-i.length)),e===i&&(d.preventDefault(),o(f=>{const m=!f;return p(u,m.toString(),y),m}),e=""))};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[t]);const h=async()=>{if(g(!0),t){const e=n;try{if(!(await fetch(`/__open-in-editor?file=${encodeURIComponent(e)}`)).ok)throw new Error("Failed to open in editor")}catch{g(!1);return}}else{const e="https://github.com/imgly-labs/ubiqu/edit/develop",i=n.split("/apps/documentation/")[1]||n,l=`${e}/apps/documentation/${i}`;window.open(l,"_blank")}g(!1)},b=()=>{const e="https://github.dev/imgly/ubq/blob/develop",i=n.split("/apps/documentation/")[1]||n;return`${e}/apps/documentation/${i}`};return a?c.jsxs("div",{className:"fixed right-4 bottom-4 z-[1001] flex flex-col gap-2",children:[c.jsx("button",{type:"button",onClick:h,className:"bg-imglygray-500 hover:bg-imglygray-400 active:bg-imglygray-600 border-imglygray-900/16 dark:border-dark-imglygray-50/16 dark:bg-dark-imglygray-400 dark:hover:bg-dark-imglygray-300 dark:active:bg-dark-imglygray-500 text-imglytext dark:text-dark-imglytext cursor-pointer rounded-lg border px-2 py-1.5 font-medium shadow-lg transition hover:-translate-y-1 hover:shadow-xl active:shadow-md whitespace-nowrap",title:t?"Open in editor":'Edit on GitHub (Type "igor" to toggle)',children:r?"Opening...":t?"Edit":"Edit (GitHub)"}),!t&&c.jsx("a",{href:b(),target:"_blank",rel:"noopener noreferrer",className:"inline-block cursor-pointer rounded-lg border px-2 py-1.5 text-center font-medium shadow-lg transition hover:-translate-y-1 hover:shadow-xl active:shadow-md whitespace-nowrap bg-imglygray-500 hover:bg-imglygray-400 active:bg-imglygray-600 border-imglygray-900/16 dark:border-dark-imglygray-50/16 dark:bg-dark-imglygray-400 dark:hover:bg-dark-imglygray-300 dark:active:bg-dark-imglygray-500 text-imglytext dark:text-dark-imglytext",title:"Open in VS Code (github.dev)",children:"Edit (VS Code)"})]}):null}export{E as default};
