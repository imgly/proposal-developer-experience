import{j as e}from"./jsx-runtime.DY7NhS4F.js";import{P as b,b as u,g as f}from"./path.CEkIQWnV.js";import{R as h}from"./ReactIcon.COk6PIZI.js";import{u as p,D as k,a as v}from"./SWJ5EOOS.85pX5IMK.js";import{r as m}from"./index.hm4EbzaD.js";import"./index.CeGkfcG7.js";function N({title:s,"aria-label":l,open:a,className:o="",buttonClassName:t="",children:g}){const r=p(),i=r.useState("open"),n=m.useRef(null),d=c=>{c.preventDefault(),i?r.hide():r.show()},y=m.useCallback(c=>{n.current&&!n.current.contains(c.target)&&r.hide()},[r]);return m.useEffect(()=>{const c=new AbortController;return a?r.show():!a&&typeof a=="boolean"&&r.hide(),document.addEventListener("click",y,{signal:c.signal}),()=>{c.abort()}},[a,r,y]),e.jsxs("div",{ref:n,className:`relative ${o}`,children:[e.jsxs(k,{className:`hover:bg-imglygray-400/64 dark:hover:bg-dark-imglygray-300/32 flex grow flex-row items-center justify-between ${t} ${i?"bg-imglygray-50 text-imglytext hover:from-imglygray-400/64 hover:to-imglygray-50 dark:bg-dark-imglygray-700 dark:text-dark-imglytext dark:hover:from-dark-imglygray-300/32 dark:hover:to-dark-imglygray-700 to-95% hover:bg-linear-to-b":"text-imglyblue dark:text-dark-imglyblue"}`,"aria-label":l,store:r,onClick:d,children:[s,e.jsx(h,{name:i?"chevron-up":"chevron-down",size:"24"})]}),e.jsx(v,{store:r,className:"border-imglygray-900/8 dark:border-dark-imglygray-50/8 dark:bg-dark-imglygray-800 absolute z-50 -ms-px overflow-auto rounded-t-none rounded-b-xl border border-t-0 shadow-lg",children:g})]})}function j({platformOptions:s}){const l=s.find(({active:a})=>a);return e.jsx(N,{title:e.jsxs("span",{className:"flex h-full w-full items-center gap-2 text-sm font-medium",children:[l&&e.jsx(h,{name:l.id,size:"24"}),l?.label||"Choose Platform"]}),"aria-label":"Choose Platform",className:"w-full",buttonClassName:"w-full h-full px-4 cursor-pointer",children:e.jsx("div",{className:"bg-imglygray-50 dark:bg-dark-imglygray-700 flex max-h-[80vh] w-[70vw] grow flex-col overflow-x-hidden overflow-y-scroll overscroll-y-contain px-4 py-4 lg:w-[600px] lg:flex-row lg:overflow-y-auto lg:overscroll-y-auto",children:["Mobile","Web","Desktop","Server"].map(a=>e.jsxs("div",{className:"grow",children:[e.jsx("span",{className:"text-imglygray-900 dark:text-dark-imglygray-100 block px-4 py-1 text-sm font-bold",children:a}),e.jsx("ul",{className:"mt-1 flex flex-col",children:s.filter(({id:o})=>b.find(t=>t.id===o)?.groups.includes(a)).sort((o,t)=>o.label.localeCompare(t.label)).map(({label:o,href:t,active:g,id:r})=>e.jsx("li",{className:"",children:e.jsxs("a",{href:t,className:`hover:bg-imglygray-400 dark:hover:bg-dark-imglygray-300/32 flex items-center gap-2 rounded px-4 py-1.5 ${g?"bg-imglyblue/12 hover:bg-imglyblue dark:bg-dark-imglyblue/12 text-imglyblue dark:text-dark-imglyblue hover:dark:text-dark-imglyblue":"text-imglytext dark:text-dark-imglytext hover:dark:text-dark-imglytext"}`,children:[e.jsx(h,{name:r,size:"16"}),e.jsx("span",{className:"flex-grow text-sm",children:o})]})},t))})]},a))})})}const w=u.startsWith("http")?u:f(u),S=10,x="1.57.0";function C(){const s=x,[l,a]=m.useState(null),[o,t]=m.useState(!1),g=async()=>{if(!(l!==null||o))try{t(!0);const i=await(await fetch(w)).json(),n=Object.entries(i.versions).map(([d,{url:y}])=>({versionString:d,url:y,isCurrent:d===s,isLatest:d===i.latest})).filter(({versionString:d})=>!s.startsWith(d)).slice(0,S);a(n)}catch(r){console.error("Failed to load versions:",r)}finally{t(!1)}};return e.jsxs("select",{className:"text-imglyblue dark:text-dark-imglyblue hover:bg-imglygray-400/64 dark:hover:bg-dark-imglygray-300/32 min-w-[160px] cursor-pointer appearance-none rounded-none bg-transparent px-8 py-4 text-sm",onChange:r=>{const i=l?.find(n=>n.versionString===r.target.value);window.location.href=i.url},onFocus:g,onMouseOver:g,value:x,children:[e.jsxs("option",{disabled:!0,value:x,children:["v",x," (latest)"]}),l?.map(r=>e.jsxs("option",{value:r.versionString,disabled:r.isCurrent,children:["v",r.versionString,r.isLatest?" (latest)":""]},r.url))]})}const D=[{title:"Changelog",href:f("/changelog/").href},{title:"Release Notes",href:"https://img.ly/blog/tag/release-notes/"},{title:"Demo",href:"https://img.ly/showcases/cesdk"},{title:"Support",href:"https://img.ly/support"},{title:"FAQ",href:"https://support.img.ly/technical-faq"}];function L({platformOptions:s}){return e.jsx("nav",{id:"docs-header",className:"border-imglygray/8 bg-imglygray-100 dark:border-dark-imglygray/8 dark:bg-dark-imglygray-800 flex justify-center border-b lg:sticky lg:-top-px lg:z-50 lg:border-t",children:e.jsxs("div",{className:"flex w-[82rem] flex-grow-0",children:[e.jsxs("div",{className:"border-imglygray/8 dark:border-dark-imglygray/8 flex border-r lg:w-[20rem]",children:[e.jsx("span",{className:"border-imglygray/8 dark:border-dark-imglygray/8 flex flex-shrink-0 border-r text-center text-xl font-medium max-lg:hidden",children:e.jsx("a",{className:"font-headline-md block px-4 pt-3 hover:underline",href:f("/").href,children:"SDK Docs"})}),e.jsx(j,{platformOptions:s})]}),e.jsx("div",{className:"border-imglygray/8 dark:border-dark-imglygray/8 flex border-r",children:e.jsx(C,{})}),e.jsx("div",{className:"flex px-4 max-lg:hidden",children:D.map(l=>e.jsx("a",{href:l.href,className:"group flex text-sm",children:e.jsx("span",{className:"group-hover:bg-imglygray-400/64 group-active:bg-imglygray-600/64 dark:group-hover:bg-dark-imglygray-300/32 dark:group-active:bg-dark-imglygray-500/32 mt-2 mb-2 rounded-lg px-3 pt-2",children:l.title})},l.title))})]})})}export{L as default};
